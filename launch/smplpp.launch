<launch>
  <arg name="enable_ik" default="true" />
  <arg name="enable_vertex_color" default="true" />

  <node pkg="smplpp" type="smplpp" name="smplpp" output="screen">
    <rosparam subst_value="true">
      enable_ik: $(arg enable_ik)
      enable_vertex_color: $(arg enable_vertex_color)
      model_path: $(find smplpp)/data/smpl_male.json
      device: CPU
      rate: 30.0
    </rosparam>
  </node>

  <node if="$(arg enable_ik)"
        pkg="smplpp" type="IkTargetManager.py" name="ik_target_manager" output="screen" >
    <remap from="ik_target_pose" to="smplpp/ik_target_pose" />
  </node>

  <node pkg="rviz" type="rviz" name="$(anon rviz)"
        args="-d $(find smplpp)/rviz/smplpp.rviz" />

  <node unless="$(arg enable_ik)"
        pkg="rqt_ez_publisher" type="rqt_ez_publisher" name="rqt_ez_publisher_pose"
        args="--slider-file $(find smplpp)/rqt/smplpp_pose.yaml"
        output="log" clear_params="true" />

  <node pkg="rqt_ez_publisher" type="rqt_ez_publisher" name="rqt_ez_publisher_shape"
        args="--slider-file $(find smplpp)/rqt/smplpp_shape.yaml"
        output="log" clear_params="true" />
</launch>
